<div class="banner">
  <div class="banner-content">
    <h1>Allez travailler dans les espaces<br>atypiques de milliers d'h√¥tes</h1>
    <p><span id="banner-typed-text"></span></p>
  </div>
</div>

<div class="main-container">
    <h1 style="font-size: 50px;">All the flats</h1>
  <div class="card-container">

    <% @flats.each do |flat| %>
    <% if flat.photo.blank? %>

        <%= link_to flat_path(flat), :class => "link" do %>
          <div class="card" style="background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.75) 80%), url('https://picsum.photos/300/300/?random');">
            <div class="title-content"><% flat.name %>
              <h3><%= flat.name %></h3>
            </div>
          </div>
        <% end %>

       <% else %>

        <%= link_to flat_path(flat), :class => "link" do %>
          <div class="card" style="background-image: linear-gradient( rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.50)), url('<%= cl_image_path flat.photo %>');">
            <div class="title-content">
              <h3><%= flat.name %></h3>
            </div>
          </div>
        <% end %>

      <% end %>
    <% end %>

<div
  id="map"
  style="width: 80%;
  height: 600px;"
  data-markers="<%= @markers.to_json %>"
  data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
></div>

  </div>
</div>
